{"ast":null,"code":"var _jsxFileName = \"C:\\\\github repo\\\\IIPlatform\\\\frontend\\\\src\\\\components\\\\RoleManagement.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Card, Table, Button, Modal, Form, Input, Select, Space, Tag, Row, Col, Statistic, message, Alert, Switch, Tree, Transfer, Typography, Divider } from 'antd';\nimport { KeyOutlined, UserOutlined, TeamOutlined, PlusOutlined, EditOutlined, DeleteOutlined, EyeOutlined, LockOutlined } from '@ant-design/icons';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Option\n} = Select;\nconst {\n  TextArea\n} = Input;\nconst {\n  Title,\n  Text\n} = Typography;\nconst RoleManagement = () => {\n  _s();\n  const [roles, setRoles] = useState([]);\n  const [users, setUsers] = useState([]);\n  const [devices, setDevices] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [modalVisible, setModalVisible] = useState(false);\n  const [selectedRole, setSelectedRole] = useState(null);\n  const [form] = Form.useForm();\n  useEffect(() => {\n    fetchRoles();\n    fetchUsers();\n    fetchDevices();\n  }, []);\n  const fetchRoles = async () => {\n    try {\n      const response = await axios.get('http://localhost:8000/roles/');\n      setRoles(response.data);\n    } catch (error) {\n      message.error('獲取角色列表失敗');\n    }\n  };\n  const fetchUsers = async () => {\n    try {\n      const response = await axios.get('http://localhost:8000/users/');\n      setUsers(response.data);\n    } catch (error) {\n      message.error('獲取用戶列表失敗');\n    }\n  };\n  const fetchDevices = async () => {\n    try {\n      const response = await axios.get('http://localhost:8000/devices/');\n      setDevices(response.data);\n    } catch (error) {\n      message.error('獲取設備列表失敗');\n    }\n  };\n  const createRole = async values => {\n    try {\n      setLoading(true);\n\n      // 構建權限對象\n      const permissions = {};\n      if (values.device_permissions) {\n        permissions.device = values.device_permissions;\n      }\n      if (values.user_permissions) {\n        permissions.user = values.user_permissions;\n      }\n      if (values.system_permissions) {\n        permissions.system = values.system_permissions;\n      }\n      const roleData = {\n        name: values.name,\n        description: values.description,\n        permissions: permissions\n      };\n      await axios.post('http://localhost:8000/roles/', roleData);\n      message.success('角色創建成功');\n      setModalVisible(false);\n      form.resetFields();\n      fetchRoles();\n    } catch (error) {\n      message.error('角色創建失敗');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const getRoleLevel = roleName => {\n    switch (roleName) {\n      case 'admin':\n        return 1;\n      case 'operator':\n        return 2;\n      case 'viewer':\n        return 3;\n      case 'maintenance':\n        return 2;\n      default:\n        return 4;\n    }\n  };\n  const getRoleColor = roleName => {\n    switch (roleName) {\n      case 'admin':\n        return 'red';\n      case 'operator':\n        return 'blue';\n      case 'viewer':\n        return 'green';\n      case 'maintenance':\n        return 'orange';\n      default:\n        return 'default';\n    }\n  };\n  const getRoleText = roleName => {\n    switch (roleName) {\n      case 'admin':\n        return '管理員';\n      case 'operator':\n        return '操作員';\n      case 'viewer':\n        return '檢視者';\n      case 'maintenance':\n        return '維護員';\n      default:\n        return roleName;\n    }\n  };\n  const roleColumns = [{\n    title: '角色名稱',\n    dataIndex: 'name',\n    key: 'name',\n    render: name => /*#__PURE__*/_jsxDEV(Tag, {\n      color: getRoleColor(name),\n      children: getRoleText(name)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 9\n    }, this)\n  }, {\n    title: '描述',\n    dataIndex: 'description',\n    key: 'description'\n  }, {\n    title: '權限等級',\n    key: 'level',\n    render: (_, record) => getRoleLevel(record.name),\n    sorter: (a, b) => getRoleLevel(a.name) - getRoleLevel(b.name)\n  }, {\n    title: '用戶數量',\n    key: 'user_count',\n    render: (_, record) => {\n      const count = users.filter(user => user.role === record.name).length;\n      return count;\n    }\n  }, {\n    title: '創建時間',\n    dataIndex: 'created_at',\n    key: 'created_at',\n    render: time => time ? new Date(time).toLocaleString() : '-'\n  }, {\n    title: '操作',\n    key: 'action',\n    render: (_, record) => /*#__PURE__*/_jsxDEV(Space, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        size: \"small\",\n        icon: /*#__PURE__*/_jsxDEV(EyeOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 38\n        }, this),\n        children: \"\\u67E5\\u770B\\u6B0A\\u9650\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        size: \"small\",\n        icon: /*#__PURE__*/_jsxDEV(EditOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 38\n        }, this),\n        children: \"\\u7DE8\\u8F2F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        size: \"small\",\n        danger: true,\n        icon: /*#__PURE__*/_jsxDEV(DeleteOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 45\n        }, this),\n        children: \"\\u522A\\u9664\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 9\n    }, this)\n  }];\n  const userColumns = [{\n    title: '用戶名',\n    dataIndex: 'username',\n    key: 'username'\n  }, {\n    title: '角色',\n    dataIndex: 'role',\n    key: 'role',\n    render: role => /*#__PURE__*/_jsxDEV(Tag, {\n      color: getRoleColor(role),\n      children: getRoleText(role)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 9\n    }, this)\n  }, {\n    title: '郵箱',\n    dataIndex: 'email',\n    key: 'email'\n  }, {\n    title: '狀態',\n    dataIndex: 'is_active',\n    key: 'is_active',\n    render: active => /*#__PURE__*/_jsxDEV(Tag, {\n      color: active ? 'green' : 'red',\n      children: active ? '啟用' : '停用'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 9\n    }, this)\n  }, {\n    title: '最後登入',\n    dataIndex: 'last_login',\n    key: 'last_login',\n    render: time => time ? new Date(time).toLocaleString() : '從未登入'\n  }, {\n    title: '操作',\n    key: 'action',\n    render: (_, record) => /*#__PURE__*/_jsxDEV(Space, {\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        size: \"small\",\n        icon: /*#__PURE__*/_jsxDEV(EditOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 38\n        }, this),\n        children: \"\\u7DE8\\u8F2F\\u89D2\\u8272\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        size: \"small\",\n        icon: /*#__PURE__*/_jsxDEV(LockOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 38\n        }, this),\n        children: \"\\u91CD\\u7F6E\\u5BC6\\u78BC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 9\n    }, this)\n  }];\n  const permissionTreeData = [{\n    title: '設備管理',\n    key: 'device',\n    children: [{\n      title: '查看設備',\n      key: 'device:read'\n    }, {\n      title: '創建設備',\n      key: 'device:create'\n    }, {\n      title: '編輯設備',\n      key: 'device:update'\n    }, {\n      title: '刪除設備',\n      key: 'device:delete'\n    }, {\n      title: '控制設備',\n      key: 'device:control'\n    }]\n  }, {\n    title: '用戶管理',\n    key: 'user',\n    children: [{\n      title: '查看用戶',\n      key: 'user:read'\n    }, {\n      title: '創建用戶',\n      key: 'user:create'\n    }, {\n      title: '編輯用戶',\n      key: 'user:update'\n    }, {\n      title: '刪除用戶',\n      key: 'user:delete'\n    }]\n  }, {\n    title: '系統管理',\n    key: 'system',\n    children: [{\n      title: '查看日誌',\n      key: 'system:audit'\n    }, {\n      title: '系統設定',\n      key: 'system:settings'\n    }, {\n      title: '備份還原',\n      key: 'system:backup'\n    }]\n  }, {\n    title: '規則引擎',\n    key: 'rule',\n    children: [{\n      title: '查看規則',\n      key: 'rule:read'\n    }, {\n      title: '創建規則',\n      key: 'rule:create'\n    }, {\n      title: '編輯規則',\n      key: 'rule:update'\n    }, {\n      title: '刪除規則',\n      key: 'rule:delete'\n    }]\n  }, {\n    title: '工作流程',\n    key: 'workflow',\n    children: [{\n      title: '查看工作流程',\n      key: 'workflow:read'\n    }, {\n      title: '創建工作流程',\n      key: 'workflow:create'\n    }, {\n      title: '編輯工作流程',\n      key: 'workflow:update'\n    }, {\n      title: '執行工作流程',\n      key: 'workflow:execute'\n    }]\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      gutter: [16, 16],\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        span: 24,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          title: \"\\u89D2\\u8272\\u7BA1\\u7406\\u6982\\u89BD\",\n          extra: /*#__PURE__*/_jsxDEV(Button, {\n            type: \"primary\",\n            icon: /*#__PURE__*/_jsxDEV(PlusOutlined, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 42\n            }, this),\n            onClick: () => setModalVisible(true),\n            children: \"\\u65B0\\u589E\\u89D2\\u8272\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this),\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            gutter: 16,\n            children: [/*#__PURE__*/_jsxDEV(Col, {\n              span: 6,\n              children: /*#__PURE__*/_jsxDEV(Statistic, {\n                title: \"\\u7E3D\\u89D2\\u8272\\u6578\",\n                value: roles.length,\n                prefix: /*#__PURE__*/_jsxDEV(KeyOutlined, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 320,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              span: 6,\n              children: /*#__PURE__*/_jsxDEV(Statistic, {\n                title: \"\\u7E3D\\u7528\\u6236\\u6578\",\n                value: users.length,\n                prefix: /*#__PURE__*/_jsxDEV(UserOutlined, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              span: 6,\n              children: /*#__PURE__*/_jsxDEV(Statistic, {\n                title: \"\\u6D3B\\u8E8D\\u7528\\u6236\",\n                value: users.filter(u => u.is_active).length,\n                valueStyle: {\n                  color: '#3f8600'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              span: 6,\n              children: /*#__PURE__*/_jsxDEV(Statistic, {\n                title: \"\\u7BA1\\u7406\\u54E1\",\n                value: users.filter(u => u.role === 'admin').length,\n                valueStyle: {\n                  color: '#cf1322'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      gutter: [16, 16],\n      style: {\n        marginTop: 16\n      },\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        span: 12,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          title: \"\\u89D2\\u8272\\u5217\\u8868\",\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            dataSource: roles,\n            columns: roleColumns,\n            rowKey: \"id\",\n            size: \"small\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        span: 12,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          title: \"\\u7528\\u6236\\u5217\\u8868\",\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            dataSource: users,\n            columns: userColumns,\n            rowKey: \"id\",\n            size: \"small\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      gutter: [16, 16],\n      style: {\n        marginTop: 16\n      },\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        span: 24,\n        children: /*#__PURE__*/_jsxDEV(Card, {\n          title: \"\\u6B0A\\u9650\\u6A39\\u72C0\\u5716\",\n          children: /*#__PURE__*/_jsxDEV(Tree, {\n            treeData: permissionTreeData,\n            defaultExpandAll: true,\n            showLine: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 372,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      title: \"\\u65B0\\u589E\\u89D2\\u8272\",\n      open: modalVisible,\n      onCancel: () => setModalVisible(false),\n      footer: null,\n      width: 800,\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        form: form,\n        onFinish: createRole,\n        layout: \"vertical\",\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          gutter: 16,\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            span: 12,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              label: \"\\u89D2\\u8272\\u540D\\u7A31\",\n              name: \"name\",\n              rules: [{\n                required: true,\n                message: '請輸入角色名稱'\n              }],\n              children: /*#__PURE__*/_jsxDEV(Input, {\n                placeholder: \"\\u4F8B\\u5982: operator\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 12,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              label: \"\\u986F\\u793A\\u540D\\u7A31\",\n              name: \"display_name\",\n              children: /*#__PURE__*/_jsxDEV(Input, {\n                placeholder: \"\\u4F8B\\u5982: \\u64CD\\u4F5C\\u54E1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          label: \"\\u63CF\\u8FF0\",\n          name: \"description\",\n          children: /*#__PURE__*/_jsxDEV(TextArea, {\n            rows: 3,\n            placeholder: \"\\u89D2\\u8272\\u63CF\\u8FF0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {\n          children: \"\\u6B0A\\u9650\\u8A2D\\u5B9A\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          gutter: 16,\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            span: 8,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              label: \"\\u8A2D\\u5099\\u6B0A\\u9650\",\n              name: \"device_permissions\",\n              children: /*#__PURE__*/_jsxDEV(Select, {\n                mode: \"multiple\",\n                placeholder: \"\\u9078\\u64C7\\u8A2D\\u5099\\u6B0A\\u9650\",\n                children: [/*#__PURE__*/_jsxDEV(Option, {\n                  value: \"read\",\n                  children: \"\\u67E5\\u770B\\u8A2D\\u5099\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 432,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Option, {\n                  value: \"create\",\n                  children: \"\\u5275\\u5EFA\\u8A2D\\u5099\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Option, {\n                  value: \"update\",\n                  children: \"\\u7DE8\\u8F2F\\u8A2D\\u5099\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 434,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Option, {\n                  value: \"delete\",\n                  children: \"\\u522A\\u9664\\u8A2D\\u5099\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Option, {\n                  value: \"control\",\n                  children: \"\\u63A7\\u5236\\u8A2D\\u5099\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 8,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              label: \"\\u7528\\u6236\\u6B0A\\u9650\",\n              name: \"user_permissions\",\n              children: /*#__PURE__*/_jsxDEV(Select, {\n                mode: \"multiple\",\n                placeholder: \"\\u9078\\u64C7\\u7528\\u6236\\u6B0A\\u9650\",\n                children: [/*#__PURE__*/_jsxDEV(Option, {\n                  value: \"read\",\n                  children: \"\\u67E5\\u770B\\u7528\\u6236\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 446,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Option, {\n                  value: \"create\",\n                  children: \"\\u5275\\u5EFA\\u7528\\u6236\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 447,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Option, {\n                  value: \"update\",\n                  children: \"\\u7DE8\\u8F2F\\u7528\\u6236\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 448,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Option, {\n                  value: \"delete\",\n                  children: \"\\u522A\\u9664\\u7528\\u6236\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 449,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 441,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 440,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            span: 8,\n            children: /*#__PURE__*/_jsxDEV(Form.Item, {\n              label: \"\\u7CFB\\u7D71\\u6B0A\\u9650\",\n              name: \"system_permissions\",\n              children: /*#__PURE__*/_jsxDEV(Select, {\n                mode: \"multiple\",\n                placeholder: \"\\u9078\\u64C7\\u7CFB\\u7D71\\u6B0A\\u9650\",\n                children: [/*#__PURE__*/_jsxDEV(Option, {\n                  value: \"audit\",\n                  children: \"\\u67E5\\u770B\\u65E5\\u8A8C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 459,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Option, {\n                  value: \"settings\",\n                  children: \"\\u7CFB\\u7D71\\u8A2D\\u5B9A\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 460,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Option, {\n                  value: \"backup\",\n                  children: \"\\u5099\\u4EFD\\u9084\\u539F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 461,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 454,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 425,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n          children: /*#__PURE__*/_jsxDEV(Space, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              type: \"primary\",\n              htmlType: \"submit\",\n              loading: loading,\n              children: \"\\u5275\\u5EFA\\u89D2\\u8272\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => setModalVisible(false),\n              children: \"\\u53D6\\u6D88\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 307,\n    columnNumber: 5\n  }, this);\n};\n_s(RoleManagement, \"Ha4NQUNsn4FCquFzM1M7j6Xc8u8=\", false, function () {\n  return [Form.useForm];\n});\n_c = RoleManagement;\nexport default RoleManagement;\nvar _c;\n$RefreshReg$(_c, \"RoleManagement\");","map":{"version":3,"names":["React","useState","useEffect","Card","Table","Button","Modal","Form","Input","Select","Space","Tag","Row","Col","Statistic","message","Alert","Switch","Tree","Transfer","Typography","Divider","KeyOutlined","UserOutlined","TeamOutlined","PlusOutlined","EditOutlined","DeleteOutlined","EyeOutlined","LockOutlined","axios","jsxDEV","_jsxDEV","Option","TextArea","Title","Text","RoleManagement","_s","roles","setRoles","users","setUsers","devices","setDevices","loading","setLoading","modalVisible","setModalVisible","selectedRole","setSelectedRole","form","useForm","fetchRoles","fetchUsers","fetchDevices","response","get","data","error","createRole","values","permissions","device_permissions","device","user_permissions","user","system_permissions","system","roleData","name","description","post","success","resetFields","getRoleLevel","roleName","getRoleColor","getRoleText","roleColumns","title","dataIndex","key","render","color","children","fileName","_jsxFileName","lineNumber","columnNumber","_","record","sorter","a","b","count","filter","role","length","time","Date","toLocaleString","size","icon","danger","userColumns","active","permissionTreeData","gutter","span","extra","type","onClick","value","prefix","u","is_active","valueStyle","style","marginTop","dataSource","columns","rowKey","treeData","defaultExpandAll","showLine","open","onCancel","footer","width","onFinish","layout","Item","label","rules","required","placeholder","rows","mode","htmlType","_c","$RefreshReg$"],"sources":["C:/github repo/IIPlatform/frontend/src/components/RoleManagement.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Card,\r\n  Table,\r\n  Button,\r\n  Modal,\r\n  Form,\r\n  Input,\r\n  Select,\r\n  Space,\r\n  Tag,\r\n  Row,\r\n  Col,\r\n  Statistic,\r\n  message,\r\n  Alert,\r\n  Switch,\r\n  Tree,\r\n  Transfer,\r\n  Typography,\r\n  Divider\r\n} from 'antd';\r\nimport {\r\n  KeyOutlined,\r\n  UserOutlined,\r\n  TeamOutlined,\r\n  PlusOutlined,\r\n  EditOutlined,\r\n  DeleteOutlined,\r\n  EyeOutlined,\r\n  LockOutlined\r\n} from '@ant-design/icons';\r\nimport axios from 'axios';\r\n\r\nconst { Option } = Select;\r\nconst { TextArea } = Input;\r\nconst { Title, Text } = Typography;\r\n\r\nconst RoleManagement = () => {\r\n  const [roles, setRoles] = useState([]);\r\n  const [users, setUsers] = useState([]);\r\n  const [devices, setDevices] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [selectedRole, setSelectedRole] = useState(null);\r\n  const [form] = Form.useForm();\r\n\r\n  useEffect(() => {\r\n    fetchRoles();\r\n    fetchUsers();\r\n    fetchDevices();\r\n  }, []);\r\n\r\n  const fetchRoles = async () => {\r\n    try {\r\n      const response = await axios.get('http://localhost:8000/roles/');\r\n      setRoles(response.data);\r\n    } catch (error) {\r\n      message.error('獲取角色列表失敗');\r\n    }\r\n  };\r\n\r\n  const fetchUsers = async () => {\r\n    try {\r\n      const response = await axios.get('http://localhost:8000/users/');\r\n      setUsers(response.data);\r\n    } catch (error) {\r\n      message.error('獲取用戶列表失敗');\r\n    }\r\n  };\r\n\r\n  const fetchDevices = async () => {\r\n    try {\r\n      const response = await axios.get('http://localhost:8000/devices/');\r\n      setDevices(response.data);\r\n    } catch (error) {\r\n      message.error('獲取設備列表失敗');\r\n    }\r\n  };\r\n\r\n  const createRole = async (values) => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      // 構建權限對象\r\n      const permissions = {};\r\n      if (values.device_permissions) {\r\n        permissions.device = values.device_permissions;\r\n      }\r\n      if (values.user_permissions) {\r\n        permissions.user = values.user_permissions;\r\n      }\r\n      if (values.system_permissions) {\r\n        permissions.system = values.system_permissions;\r\n      }\r\n      \r\n      const roleData = {\r\n        name: values.name,\r\n        description: values.description,\r\n        permissions: permissions\r\n      };\r\n      \r\n      await axios.post('http://localhost:8000/roles/', roleData);\r\n      message.success('角色創建成功');\r\n      setModalVisible(false);\r\n      form.resetFields();\r\n      fetchRoles();\r\n    } catch (error) {\r\n      message.error('角色創建失敗');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getRoleLevel = (roleName) => {\r\n    switch (roleName) {\r\n      case 'admin': return 1;\r\n      case 'operator': return 2;\r\n      case 'viewer': return 3;\r\n      case 'maintenance': return 2;\r\n      default: return 4;\r\n    }\r\n  };\r\n\r\n  const getRoleColor = (roleName) => {\r\n    switch (roleName) {\r\n      case 'admin': return 'red';\r\n      case 'operator': return 'blue';\r\n      case 'viewer': return 'green';\r\n      case 'maintenance': return 'orange';\r\n      default: return 'default';\r\n    }\r\n  };\r\n\r\n  const getRoleText = (roleName) => {\r\n    switch (roleName) {\r\n      case 'admin': return '管理員';\r\n      case 'operator': return '操作員';\r\n      case 'viewer': return '檢視者';\r\n      case 'maintenance': return '維護員';\r\n      default: return roleName;\r\n    }\r\n  };\r\n\r\n  const roleColumns = [\r\n    {\r\n      title: '角色名稱',\r\n      dataIndex: 'name',\r\n      key: 'name',\r\n      render: (name) => (\r\n        <Tag color={getRoleColor(name)}>\r\n          {getRoleText(name)}\r\n        </Tag>\r\n      ),\r\n    },\r\n    {\r\n      title: '描述',\r\n      dataIndex: 'description',\r\n      key: 'description',\r\n    },\r\n    {\r\n      title: '權限等級',\r\n      key: 'level',\r\n      render: (_, record) => getRoleLevel(record.name),\r\n      sorter: (a, b) => getRoleLevel(a.name) - getRoleLevel(b.name),\r\n    },\r\n    {\r\n      title: '用戶數量',\r\n      key: 'user_count',\r\n      render: (_, record) => {\r\n        const count = users.filter(user => user.role === record.name).length;\r\n        return count;\r\n      },\r\n    },\r\n    {\r\n      title: '創建時間',\r\n      dataIndex: 'created_at',\r\n      key: 'created_at',\r\n      render: (time) => time ? new Date(time).toLocaleString() : '-',\r\n    },\r\n    {\r\n      title: '操作',\r\n      key: 'action',\r\n      render: (_, record) => (\r\n        <Space>\r\n          <Button size=\"small\" icon={<EyeOutlined />}>\r\n            查看權限\r\n          </Button>\r\n          <Button size=\"small\" icon={<EditOutlined />}>\r\n            編輯\r\n          </Button>\r\n          <Button size=\"small\" danger icon={<DeleteOutlined />}>\r\n            刪除\r\n          </Button>\r\n        </Space>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const userColumns = [\r\n    {\r\n      title: '用戶名',\r\n      dataIndex: 'username',\r\n      key: 'username',\r\n    },\r\n    {\r\n      title: '角色',\r\n      dataIndex: 'role',\r\n      key: 'role',\r\n      render: (role) => (\r\n        <Tag color={getRoleColor(role)}>\r\n          {getRoleText(role)}\r\n        </Tag>\r\n      ),\r\n    },\r\n    {\r\n      title: '郵箱',\r\n      dataIndex: 'email',\r\n      key: 'email',\r\n    },\r\n    {\r\n      title: '狀態',\r\n      dataIndex: 'is_active',\r\n      key: 'is_active',\r\n      render: (active) => (\r\n        <Tag color={active ? 'green' : 'red'}>\r\n          {active ? '啟用' : '停用'}\r\n        </Tag>\r\n      ),\r\n    },\r\n    {\r\n      title: '最後登入',\r\n      dataIndex: 'last_login',\r\n      key: 'last_login',\r\n      render: (time) => time ? new Date(time).toLocaleString() : '從未登入',\r\n    },\r\n    {\r\n      title: '操作',\r\n      key: 'action',\r\n      render: (_, record) => (\r\n        <Space>\r\n          <Button size=\"small\" icon={<EditOutlined />}>\r\n            編輯角色\r\n          </Button>\r\n          <Button size=\"small\" icon={<LockOutlined />}>\r\n            重置密碼\r\n          </Button>\r\n        </Space>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const permissionTreeData = [\r\n    {\r\n      title: '設備管理',\r\n      key: 'device',\r\n      children: [\r\n        { title: '查看設備', key: 'device:read' },\r\n        { title: '創建設備', key: 'device:create' },\r\n        { title: '編輯設備', key: 'device:update' },\r\n        { title: '刪除設備', key: 'device:delete' },\r\n        { title: '控制設備', key: 'device:control' },\r\n      ]\r\n    },\r\n    {\r\n      title: '用戶管理',\r\n      key: 'user',\r\n      children: [\r\n        { title: '查看用戶', key: 'user:read' },\r\n        { title: '創建用戶', key: 'user:create' },\r\n        { title: '編輯用戶', key: 'user:update' },\r\n        { title: '刪除用戶', key: 'user:delete' },\r\n      ]\r\n    },\r\n    {\r\n      title: '系統管理',\r\n      key: 'system',\r\n      children: [\r\n        { title: '查看日誌', key: 'system:audit' },\r\n        { title: '系統設定', key: 'system:settings' },\r\n        { title: '備份還原', key: 'system:backup' },\r\n      ]\r\n    },\r\n    {\r\n      title: '規則引擎',\r\n      key: 'rule',\r\n      children: [\r\n        { title: '查看規則', key: 'rule:read' },\r\n        { title: '創建規則', key: 'rule:create' },\r\n        { title: '編輯規則', key: 'rule:update' },\r\n        { title: '刪除規則', key: 'rule:delete' },\r\n      ]\r\n    },\r\n    {\r\n      title: '工作流程',\r\n      key: 'workflow',\r\n      children: [\r\n        { title: '查看工作流程', key: 'workflow:read' },\r\n        { title: '創建工作流程', key: 'workflow:create' },\r\n        { title: '編輯工作流程', key: 'workflow:update' },\r\n        { title: '執行工作流程', key: 'workflow:execute' },\r\n      ]\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      <Row gutter={[16, 16]}>\r\n        <Col span={24}>\r\n          <Card title=\"角色管理概覽\" extra={\r\n            <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => setModalVisible(true)}>\r\n              新增角色\r\n            </Button>\r\n          }>\r\n            <Row gutter={16}>\r\n              <Col span={6}>\r\n                <Statistic\r\n                  title=\"總角色數\"\r\n                  value={roles.length}\r\n                  prefix={<KeyOutlined />}\r\n                />\r\n              </Col>\r\n              <Col span={6}>\r\n                <Statistic\r\n                  title=\"總用戶數\"\r\n                  value={users.length}\r\n                  prefix={<UserOutlined />}\r\n                />\r\n              </Col>\r\n              <Col span={6}>\r\n                <Statistic\r\n                  title=\"活躍用戶\"\r\n                  value={users.filter(u => u.is_active).length}\r\n                  valueStyle={{ color: '#3f8600' }}\r\n                />\r\n              </Col>\r\n              <Col span={6}>\r\n                <Statistic\r\n                  title=\"管理員\"\r\n                  value={users.filter(u => u.role === 'admin').length}\r\n                  valueStyle={{ color: '#cf1322' }}\r\n                />\r\n              </Col>\r\n            </Row>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row gutter={[16, 16]} style={{ marginTop: 16 }}>\r\n        <Col span={12}>\r\n          <Card title=\"角色列表\">\r\n            <Table\r\n              dataSource={roles}\r\n              columns={roleColumns}\r\n              rowKey=\"id\"\r\n              size=\"small\"\r\n            />\r\n          </Card>\r\n        </Col>\r\n        <Col span={12}>\r\n          <Card title=\"用戶列表\">\r\n            <Table\r\n              dataSource={users}\r\n              columns={userColumns}\r\n              rowKey=\"id\"\r\n              size=\"small\"\r\n            />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Row gutter={[16, 16]} style={{ marginTop: 16 }}>\r\n        <Col span={24}>\r\n          <Card title=\"權限樹狀圖\">\r\n            <Tree\r\n              treeData={permissionTreeData}\r\n              defaultExpandAll\r\n              showLine\r\n            />\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Modal\r\n        title=\"新增角色\"\r\n        open={modalVisible}\r\n        onCancel={() => setModalVisible(false)}\r\n        footer={null}\r\n        width={800}\r\n      >\r\n        <Form\r\n          form={form}\r\n          onFinish={createRole}\r\n          layout=\"vertical\"\r\n        >\r\n          <Row gutter={16}>\r\n            <Col span={12}>\r\n              <Form.Item\r\n                label=\"角色名稱\"\r\n                name=\"name\"\r\n                rules={[{ required: true, message: '請輸入角色名稱' }]}\r\n              >\r\n                <Input placeholder=\"例如: operator\" />\r\n              </Form.Item>\r\n            </Col>\r\n            <Col span={12}>\r\n              <Form.Item\r\n                label=\"顯示名稱\"\r\n                name=\"display_name\"\r\n              >\r\n                <Input placeholder=\"例如: 操作員\" />\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Form.Item\r\n            label=\"描述\"\r\n            name=\"description\"\r\n          >\r\n            <TextArea rows={3} placeholder=\"角色描述\" />\r\n          </Form.Item>\r\n\r\n          <Divider>權限設定</Divider>\r\n\r\n          <Row gutter={16}>\r\n            <Col span={8}>\r\n              <Form.Item\r\n                label=\"設備權限\"\r\n                name=\"device_permissions\"\r\n              >\r\n                <Select mode=\"multiple\" placeholder=\"選擇設備權限\">\r\n                  <Option value=\"read\">查看設備</Option>\r\n                  <Option value=\"create\">創建設備</Option>\r\n                  <Option value=\"update\">編輯設備</Option>\r\n                  <Option value=\"delete\">刪除設備</Option>\r\n                  <Option value=\"control\">控制設備</Option>\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col span={8}>\r\n              <Form.Item\r\n                label=\"用戶權限\"\r\n                name=\"user_permissions\"\r\n              >\r\n                <Select mode=\"multiple\" placeholder=\"選擇用戶權限\">\r\n                  <Option value=\"read\">查看用戶</Option>\r\n                  <Option value=\"create\">創建用戶</Option>\r\n                  <Option value=\"update\">編輯用戶</Option>\r\n                  <Option value=\"delete\">刪除用戶</Option>\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col span={8}>\r\n              <Form.Item\r\n                label=\"系統權限\"\r\n                name=\"system_permissions\"\r\n              >\r\n                <Select mode=\"multiple\" placeholder=\"選擇系統權限\">\r\n                  <Option value=\"audit\">查看日誌</Option>\r\n                  <Option value=\"settings\">系統設定</Option>\r\n                  <Option value=\"backup\">備份還原</Option>\r\n                </Select>\r\n              </Form.Item>\r\n            </Col>\r\n          </Row>\r\n\r\n          <Form.Item>\r\n            <Space>\r\n              <Button type=\"primary\" htmlType=\"submit\" loading={loading}>\r\n                創建角色\r\n              </Button>\r\n              <Button onClick={() => setModalVisible(false)}>\r\n                取消\r\n              </Button>\r\n            </Space>\r\n          </Form.Item>\r\n        </Form>\r\n      </Modal>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RoleManagement; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}